/* --- TEMA-DEFINITIONER (Uændret) --- */
:root {
    /* Default Light Theme */
    --color-bg-base: #f3f4f6; /* gray-100 */
    --color-bg-surface: #ffffff; /* white */
    --color-bg-subtle: #f9fafb; /* gray-50 */
    --color-bg-accent-subtle: #eff6ff; /* blue-50 */
    --color-bg-primary: #3B82F6; /* blue-600 */
    --color-bg-primary-hover: #2563EB; /* blue-700 */
    --color-bg-danger: #DC2626; /* red-600 */
    --color-bg-danger-hover: #B91C1C; /* red-700 */

    --color-text-primary: #111827; /* gray-900 */
    --color-text-secondary: #374151; /* gray-700 */
    --color-text-tertiary: #6b7280; /* gray-500 */
    --color-text-placeholder: #9ca3af; /* gray-400 */
    --color-text-primary-accent: #3B82F6; /* blue-600 */
    --color-text-primary-accent-hover: #2563EB; /* blue-800 */
    --color-text-danger: #DC2626; /* red-600 */
    --color-text-on-primary: #ffffff; /* white */

    --color-border-base: #d1d5db; /* gray-300 */
    --color-border-light: #e5e7eb; /* gray-200 */
    --color-border-accent: #60A5FA; /* blue-400 */
    --color-focus-ring: #60A5FA; /* blue-400 */
    --color-icon-base: #d1d5db; /* gray-300 */
}

[data-theme="dark"] {
    --color-bg-base: #1f2937; /* gray-800 */
    --color-bg-surface: #374151; /* gray-700 */
    --color-bg-subtle: #4b5563; /* gray-600 */
    --color-bg-accent-subtle: #374151; /* gray-700 */
    --color-bg-primary: #60A5FA; /* blue-400 */
    --color-bg-primary-hover: #93C5FD; /* blue-300 */
    --color-bg-danger: #F87171; /* red-400 */
    --color-bg-danger-hover: #FB923C; /* red-300 */

    --color-text-primary: #f9fafb; /* gray-50 */
    --color-text-secondary: #d1d5db; /* gray-300 */
    --color-text-tertiary: #9ca3af; /* gray-400 */
    --color-text-placeholder: #9ca3af; /* gray-400 */
    --color-text-primary-accent: #60A5FA; /* blue-400 */
    --color-text-primary-accent-hover: #93C5FD; /* blue-300 */
    --color-text-danger: #F87171; /* red-400 */
    --color-text-on-primary: #111827; /* gray-900 */

    --color-border-base: #4b5563; /* gray-600 */
    --color-border-light: #4b5563; /* gray-600 */
    --color-border-accent: #60A5FA; /* blue-400 */
    --color-focus-ring: #60A5FA; /* blue-400 */
    --color-icon-base: #6b7280; /* gray-500 */
}

[data-theme="sepia"] {
    --color-bg-base: #fbf0e4;
    --color-bg-surface: #fff8f0;
    --color-bg-subtle: #fdf5ec;
    --color-bg-accent-subtle: #fdeee0;
    --color-bg-primary: #b45309; /* amber-700 */
    --color-bg-primary-hover: #92400e; /* amber-800 */
    --color-bg-danger: #dc2626;
    --color-bg-danger-hover: #b91c1c;

    --color-text-primary: #433422;
    --color-text-secondary: #5f4c3a;
    --color-text-tertiary: #7c6d5e;
    --color-text-placeholder: #9e8a77;
    --color-text-primary-accent: #b45309;
    --color-text-primary-accent-hover: #92400e;
    --color-text-danger: #dc2626;
    --color-text-on-primary: #ffffff;

    --color-border-base: #d4c2af;
    --color-border-light: #e4d5c5;
    --color-border-accent: #f59e0b; /* amber-500 */
    --color-focus-ring: #f59e0b;
    --color-icon-base: #c7b29e;
}

[data-theme="blue"] {
    --color-bg-base: #eff6ff; /* blue-50 */
    --color-bg-surface: #ffffff;
    --color-bg-subtle: #f5f9ff;
    --color-bg-accent-subtle: #eff6ff;
    --color-bg-primary: #2563EB; /* blue-700 */
    --color-bg-primary-hover: #1D4ED8; /* blue-800 */
    --color-bg-danger: #DC2626;
    --color-bg-danger-hover: #B91C1C;

    --color-text-primary: #1E3A8A; /* blue-900 */
    --color-text-secondary: #1E4ED8; /* blue-800 */
    --color-text-tertiary: #3B82F6; /* blue-600 */
    --color-text-placeholder: #93C5FD; /* blue-300 */
    --color-text-primary-accent: #1D4ED8; /* blue-800 */
    --color-text-primary-accent-hover: #1E3A8A; /* blue-900 */
    --color-text-danger: #DC2626;
    --color-text-on-primary: #ffffff;

    --color-border-base: #BFDBFE; /* blue-200 */
    --color-border-light: #DBEAFE; /* blue-100 */
    --color-border-accent: #2563EB; /* blue-700 */
    --color-focus-ring: #2563EB;
    --color-icon-base: #BFDBFE; /* blue-200 */
}

/* --- TEMA-KLASSER --- */
.bg-base { background-color: var(--color-bg-base); }
.bg-surface { background-color: var(--color-bg-surface); }
.bg-subtle { background-color: var(--color-bg-subtle); }
.bg-accent-subtle { background-color: var(--color-bg-accent-subtle); }
.hover\:bg-base:hover { background-color: var(--color-bg-base); }

.text-primary { color: var(--color-text-primary); }
.text-secondary { color: var(--color-text-secondary); }
.text-tertiary { color: var(--color-text-tertiary); }
.text-accent { color: var(--color-text-primary-accent); }
.text-accent-hover:hover { color: var(--color-text-primary-accent-hover); }
.text-placeholder-color { color: var(--color-text-placeholder); }
.icon-base-color { color: var(--color-icon-base); }

.border-base { border-color: var(--color-border-base); }
.border-light { border-color: var(--color-border-light); }
.border-accent { border-color: var(--color-border-accent); }

.placeholder-color::placeholder { color: var(--color-text-placeholder); }
.focus-ring:focus {
    --tw-ring-color: var(--color-focus-ring) !important;
    border-color: var(--color-focus-ring) !important;
    outline-color: var(--color-focus-ring) !important;
}
/* --- SLUT TEMA --- */


/* Layout Grid */
.page-grid {
    display: grid;
    grid-template-columns: 1fr; /* 1 kolonne som standard */
}
@media (min-width: 1024px) { /* Tailwind's 'lg' breakpoint */
    .page-grid { grid-template-columns: 300px 1fr; }
}

/* Favoritknap */
.favorite-btn .fa-solid { display: none; }
.favorite-btn .fa-regular { display: inline-block; }
.favorite-btn.is-favorite { color: #EF4444; } /* Fast rød farve til favorit */
.favorite-btn.is-favorite .fa-solid { display: inline-block; }
.favorite-btn.is-favorite .fa-regular { display: none; }

/* Modal */
#perfume-modal { transition-property: opacity, visibility; }
#modal-content { transition-property: opacity, transform; }

/* Filter Checkboxe */
.filter-group label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: 0.875rem;
    color: var(--color-text-secondary);
    transition: opacity 0.2s ease; /* Tilføjet til deaktivering */
}
.filter-group input {
    margin-right: 0.5rem;
    accent-color: var(--color-bg-primary);
    cursor: pointer; /* Tilføjet */
}

/* NYT: Styling for deaktiverede filter-labels */
.filter-group label.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
.filter-group label.disabled input {
    cursor: not-allowed;
}


/* Beskrivelses-afkortning */
.truncate-3-lines {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    overflow: hidden;
}

/* Klikbare ikoner */
[data-action="filter-icon"] {
    cursor: pointer;
    transition: transform 0.2s ease;
}
[data-action="filter-icon"]:hover {
    transform: scale(1.2);
}

/* Mobil filter-pil */
.rotate-180 {
    transform: rotate(180deg);
}

/* --- NYT: FILTER TOKEN STYLING --- */
.filter-token {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.6rem; /* Mere kompakt padding */
    border-radius: 9999px; /* fuldt rundet */
    font-size: 0.75rem; /* mindre tekst */
    font-weight: 500;
    line-height: 1; /* strammere linjehøjde */
    white-space: nowrap;
}
.filter-token button {
    margin-left: 0.5rem;
    padding: 0;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 0.9em; /* Relativ til token tekst */
    line-height: 1;
    color: inherit; /* Arv farve fra token */
    opacity: 0.7;
    transition: opacity 0.2s ease;
}
.filter-token button:hover {
    opacity: 1;
}

/* Token farver (eksempler, brug Tailwind-lignende klasser) */
.token-gender { background-color: #ec4899; color: white; } /* pink-500 */
.token-brand { background-color: #6366f1; color: white; } /* indigo-500 */
.token-season { background-color: #f59e0b; color: white; } /* amber-500 */
.token-occasion { background-color: #10b981; color: white; } /* emerald-500 */
.token-accord { background-color: #6b7280; color: white; } /* gray-500 */

/* Specifikke farver for dark mode tokens (om nødvendigt, for bedre kontrast) */
[data-theme="dark"] .token-gender { background-color: #f9a8d4; color: #1f2937; } /* pink-300 */
[data-theme="dark"] .token-brand { background-color: #a5b4fc; color: #1f2937; } /* indigo-300 */
[data-theme="dark"] .token-season { background-color: #fbbf24; color: #1f2937; } /* amber-400 */
[data-theme="dark"] .token-occasion { background-color: #6ee7b7; color: #1f2937; } /* emerald-300 */
[data-theme="dark"] .token-accord { background-color: #9ca3af; color: #1f2937; } /* gray-400 */
/* --- SLUT FILTER TOKENS --- */
